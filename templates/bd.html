{% extends "base.html" %}
{% block head %}

<link href="/static/bd.css" rel="stylesheet" />

{% endblock %}
{% block content %}
    <h1>Base de donnÃ©e</h1>

    <div class="dropdown-container">
        <label for="data-select">Afficher :</label>
        <select id="data-select" onchange="filterData()">
            <option value="artists">Artistes</option>
            <option value="albums">Albums</option>
            <option value="albumartist">Artistes et Albums</option>
        </select>
    </div>
    
    <div class="scroll-zone">
        <div id="artists-section">
            <h2>ðŸŽ¤ Artistes ({{nb}})</h2>
            <ul>
                {% for artist in artists %}
                    <li>{{ artist.Name }}</li>
                {% endfor %}
            </ul>
        </div>
    
        <div id="albums-section" style="display:none;">
            <h2>ðŸ’¿ Albums ({{nb2}})</h2>
            <ul>
                {% for album in albums %}
                    <li>{{ album.Title }}</li>
                {% endfor %}
            </ul>
        </div>
    
        <div id="albumartist-section" style="display:none;">
            <h2>ðŸŽ¤ Artistes + ðŸ’¿ Albums ({{nb3}})</h2>
            <ul>
                {% for artist_name, album_title in albumartist %}
                    <li>{{ artist_name }} â€” {{ album_title }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <script>
        function filterData() {
            const value = document.getElementById("data-select").value;
        
            document.getElementById("artists-section").style.display = "none";
            document.getElementById("albums-section").style.display = "none";
            document.getElementById("albumartist-section").style.display = "none";
        
            if (value === "artists") {
                document.getElementById("artists-section").style.display = "block";
            } else if (value === "albums") {
                document.getElementById("albums-section").style.display = "block";
            } else if (value === "albumartist") {
                document.getElementById("albumartist-section").style.display = "block";
            }
        }
    </script>
{% endblock %}